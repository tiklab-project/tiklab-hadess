(window.webpackJsonp=window.webpackJsonp||[]).push([[26],{1221:function(e,t,a){},1222:function(e,t,a){"use strict";(function(e){a(187);var n,r=a(109),l=(a(903),a(902)),o=(a(474),a(216)),i=a(0),c=a.n(i),s=a(80),u=a(158),d=a(979),f=(a(1223),a(980)),m=a(908),b=a(904),h=a(916);function p(e){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function y(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function v(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?y(Object(a),!0).forEach((function(t){S(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):y(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function S(e,t,a){return(t=function(e){var t=function(e,t){if("object"!=p(e)||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var n=a.call(e,t||"default");if("object"!=p(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==p(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function g(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=a){var n,r,l,o,i=[],c=!0,s=!1;try{if(l=(a=a.call(e)).next,0===t){if(Object(a)!==a)return;c=!1}else for(;!(c=(n=l.call(a)).done)&&(i.push(n.value),i.length!==t);c=!0);}catch(e){s=!0,r=e}finally{try{if(!c&&null!=a.return&&(o=a.return(),Object(o)!==o))return}finally{if(s)throw r}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return w(e,t);var a={}.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?w(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function w(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=Array(t);a<t;a++)n[a]=e[a];return n}(n="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&n(e);var j="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},E=[{key:1,value:"严重漏洞"},{key:2,value:"高危漏洞"},{key:3,value:"中危漏洞"},{key:4,value:"低危漏洞"}],O=function(e){var t=e.visible,a=e.setVisible,n=e.schemeId,p=e.scanScheme,y=d.a.findNotScanHolePage,S=d.a.createScanSchemeHole,w=d.a.fresh,j=g(Object(i.useState)(1),2),O=j[0],k=j[1],L=g(Object(i.useState)(),2),H=L[0],N=L[1],P=g(Object(i.useState)(15),1)[0],x=g(Object(i.useState)(),2),I=x[0],A=x[1],C=g(Object(i.useState)([]),2),D=C[0],G=C[1],T=g(Object(i.useState)([]),2),V=T[0],_=T[1],R=g(Object(i.useState)(null),2),U=R[0],M=R[1],z=g(Object(i.useState)([]),2),B=z[0],J=z[1],K=g(Object(i.useState)(!1),2),$=K[0],q=K[1],F=g(Object(i.useState)(),2),Q=F[0],W=F[1];Object(i.useEffect)((function(){t&&Y(1),"java"===p.language&&W("java")}),[w,t]);var X=[{title:"漏洞名称",dataIndex:"holeName",key:"holeName",width:"30%",ellipsis:!0},{title:"漏洞编号",dataIndex:"holeNumber",key:"holeNumber",width:"40%",ellipsis:!0},{title:"产品",dataIndex:"product",key:"product",width:"20%",ellipsis:!0},{title:"等级",dataIndex:"holeLevel",key:"holeLevel",width:"10%",ellipsis:!0,render:function(e){return 1===e&&c.a.createElement("div",{className:"text-red"},"严重漏洞")||2===e&&c.a.createElement("div",{className:"text-dired"},"高危漏洞")||3===e&&c.a.createElement("div",{className:"text-yellow"},"中危漏洞")||4===e&&c.a.createElement("div",{className:"text-blue"},"低危漏洞")}}],Y=function(e,t){y({scanSchemeId:n,holeLevelList:t,language:Q,holeName:U,pageParam:{currentPage:e,pageSize:P}}).then((function(e){0===e.code&&(_(e.data.dataList),N(e.data.totalPage),A(e.data.totalRecord))}))},Z=function(){a(!1),M(null),k(1),J([]),W(null)},ee={onChange:function(e,t){G(e)}},te=c.a.createElement("div",{className:"hole-table-footer"},c.a.createElement(b.a,{onClick:Z,title:"取消"}),c.a.createElement(b.a,{onClick:function(){S({scanSchemeId:n,scanHoleIdList:D}).then((function(e){0===e.code&&Z()}))},title:"确定",type:"primary",isMar:!0}));return c.a.createElement(r.default,{title:"添加漏洞",placement:"right",closable:!1,width:"60%",onClose:Z,visible:t,footer:te,extra:c.a.createElement(s.a,{style:{cursor:"pointer"},onClick:Z})},c.a.createElement("div",{className:"hole-add-top"},c.a.createElement("div",{className:"hole-add-search"},c.a.createElement(f.a,{visible:$,setVisible:q,dataList:E,setNav:function(e){k(1),J(e),Y(1,e,Q)},nav:B,title:"等级"}),c.a.createElement(o.default,{placeholder:"漏洞名称",onChange:function(e){M(e.target.value)},value:U,onPressEnter:function(){k(1),Y(1,B,Q)},size:"middle",style:{width:200},prefix:c.a.createElement(u.default,null)})),c.a.createElement("div",{className:"hole-table-top"},c.a.createElement(l.default,{rowSelection:v({type:"checkbox"},ee),dataSource:V,rowKey:function(e){return e.id},columns:X,pagination:!1,locale:{emptyText:c.a.createElement(h.a,{title:"暂无方案"})}}),c.a.createElement(m.a,{pageCurrent:O,changPage:function(e){k(e),Y(e,B,Q)},totalPage:H,totalRecord:I,refresh:function(){Y(O,B,Q)}}))))};j(O,"useState{[currentPage,setCurrentPage](1)}\nuseState{[totalPage,setTotalPage]}\nuseState{[pageSize](15)}\nuseState{[totalRecord,setTotalRecord]}\nuseState{[holes,setHoles]([])}\nuseState{[scanHoleList,setScanHoleList]([])}\nuseState{[holeName,setHoleName](null)}\nuseState{[levelList,setLevelList]([])}\nuseState{[levelVisible,setLevelVisible](false)}\nuseState{[language,setLanguage]}\nuseEffect{}");var k,L,H=O;t.a=H,(k="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(k.register(E,"leveList","/Users/limingliang/work/work-project/web/tiklab-hadess-ui/src/setting/scan/components/ScanHoleAddDrawer.js"),k.register(O,"ScanHoleAddDrawer","/Users/limingliang/work/work-project/web/tiklab-hadess-ui/src/setting/scan/components/ScanHoleAddDrawer.js"),k.register(H,"default","/Users/limingliang/work/work-project/web/tiklab-hadess-ui/src/setting/scan/components/ScanHoleAddDrawer.js")),(L="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&L(e)}).call(this,a(36)(e))},1223:function(e,t,a){},891:function(e,t,a){"use strict";a.r(t),function(e){a(475);var n,r=a(217),l=(a(903),a(902)),o=(a(474),a(216)),i=(a(949),a(942)),c=a.n(i),s=a(0),u=a.n(s),d=a(905),f=a(904),m=a(908),b=a(979),h=(a(1221),a(1222)),p=a(1035),y=a(1034),v=a(55),S=a(926),g=a(158),w=a(980),j=a(916);function E(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=a){var n,r,l,o,i=[],c=!0,s=!1;try{if(l=(a=a.call(e)).next,0===t){if(Object(a)!==a)return;c=!1}else for(;!(c=(n=l.call(a)).done)&&(i.push(n.value),i.length!==t);c=!0);}catch(e){s=!0,r=e}finally{try{if(!c&&null!=a.return&&(o=a.return(),Object(o)!==o))return}finally{if(s)throw r}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return O(e,t);var a={}.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?O(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function O(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=Array(t);a<t;a++)n[a]=e[a];return n}(n="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&n(e);var k="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},L=[{key:1,value:"严重漏洞"},{key:2,value:"高危漏洞"},{key:3,value:"中危漏洞"},{key:4,value:"低危漏洞"}],H=function(e){var t=e.match.params,a=b.a.findSchemeHolePage,n=b.a.deleteScanSchemeHoleByCond,i=b.a.fresh,v=y.a.findScanScheme,O=E(Object(s.useState)(""),2),k=O[0],H=O[1],N=E(Object(s.useState)([]),2),P=N[0],x=N[1],I=E(Object(s.useState)(1),2),A=I[0],C=I[1],D=E(Object(s.useState)(),2),G=D[0],T=D[1],V=E(Object(s.useState)(15),1)[0],_=E(Object(s.useState)(),2),R=_[0],U=_[1],M=E(Object(s.useState)(!1),2),z=M[0],B=M[1],J=E(Object(s.useState)(!1),2),K=J[0],$=J[1],q=E(Object(s.useState)(""),2),F=q[0],Q=q[1],W=E(Object(s.useState)([]),2),X=W[0],Y=W[1],Z=E(Object(s.useState)([]),2),ee=Z[0],te=Z[1],ae=E(Object(s.useState)(!1),2),ne=ae[0],re=ae[1],le=E(Object(s.useState)(),2),oe=le[0],ie=le[1];Object(s.useEffect)((function(){ue(1),v(t.schemeId).then((function(e){H(e.data),ce(e.data)}))}),[i]);var ce=function(e){"default"===e.schemeType?Y(se):Y(se.concat({title:"操作",dataIndex:"action",key:"action",width:"10%",render:function(e,a){return u.a.createElement(c.a,{code:"hadess_scan_hole_delete",key:"hadess_scan_hole_delete"},u.a.createElement(S.a,{value:a,deleteData:n,title:"确认删除",type:"schemeHole",schemeId:t.schemeId}))}}))},se=[{title:"漏洞名称",dataIndex:"holeName",key:"holeName",width:"30%",ellipsis:!0,render:function(e,t){return u.a.createElement("div",{className:"text-color",onClick:function(){return de(t)}},e)}},{title:"漏洞编号",dataIndex:"holeNumber",key:"holeNumber",width:"30%",ellipsis:!0},{title:"漏洞等级",dataIndex:"holeLevel",key:"holeLevel",width:"10%",ellipsis:!0,render:function(e){return 1===e&&u.a.createElement("div",{className:"text-red"},"严重漏洞")||2===e&&u.a.createElement("div",{className:"text-dired"},"高危漏洞")||3===e&&u.a.createElement("div",{className:"text-yellow"},"中危漏洞")||4===e&&u.a.createElement("div",{className:"text-blue"},"低危漏洞")}},{title:"创建时间",dataIndex:"createTime",key:"createTime",width:"15%",ellipsis:!0}],ue=function(e,n){a({scanSchemeId:t.schemeId,holeLevelList:n,holeName:oe,pageParam:{currentPage:e,pageSize:V}}).then((function(e){0===e.code&&(x(e.data.dataList),T(e.data.totalPage),U(e.data.totalRecord))}))},de=function(e){Q(e),$(!0)};return u.a.createElement("div",{className:"scanHole hadess-data-width"},u.a.createElement(r.default,{sm:{span:"24"},md:{span:"24"},lg:{span:"24"},xl:{span:"22",offset:"1"},xxl:{span:"18",offset:"3"}},u.a.createElement("div",{className:"scanHole-up"},u.a.createElement(d.a,{firstItem:"方案漏洞",goBack:function(){e.history.go(-1)}}),k&&"default"!==k.schemeType&&u.a.createElement(c.a,{code:"hadess_scan_hole_add",key:"system_scan_hole_add"},u.a.createElement(f.a,{type:"primary",title:"添加漏洞",onClick:function(){B(!0)}}))),u.a.createElement("div",{className:"scanHole-find"},u.a.createElement(w.a,{visible:ne,setVisible:re,dataList:L,setNav:function(e){C(1),te(e),ue(1,e)},nav:ee,title:"等级"}),u.a.createElement(o.default,{placeholder:"漏洞名称",value:oe,onChange:function(e){ie(e.target.value)},onPressEnter:function(){C(1),ue(1)},size:"middle",style:{width:190},prefix:u.a.createElement(g.default,null)})),u.a.createElement("div",{className:"scanHole-table"},u.a.createElement(l.default,{bordered:!1,columns:X,dataSource:P,rowKey:function(e){return e.id},pagination:!1,locale:{emptyText:u.a.createElement(j.a,{title:"暂无方案"})}}),u.a.createElement(m.a,{pageCurrent:A,changPage:function(e){C(e),ue(e)},totalPage:G,totalRecord:R,refresh:function(){ue(A)}}))),u.a.createElement(h.a,{visible:z,setVisible:B,schemeId:t.schemeId,scanScheme:k}),u.a.createElement(p.a,{visible:K,setVisible:$,hole:F}))};k(H,"useState{[scanScheme,setScanScheme]('')}\nuseState{[scanHoleList,setScanHoleList]([])}\nuseState{[currentPage,setCurrentPage](1)}\nuseState{[totalPage,setTotalPage]}\nuseState{[pageSize](15)}\nuseState{[totalRecord,setTotalRecord]}\nuseState{[addDrawerVisible,setAddDrawerVisible](false)}\nuseState{[deDrawerVisible,setDeDrawerVisible](false)}\nuseState{[holeDetails,setHoleDetails]('')}\nuseState{[columnList,setCloumnList]([])}\nuseState{[levelList,setLevelList]([])}\nuseState{[levelVisible,setLevelVisible](false)}\nuseState{[holeName,setHoleName]}\nuseEffect{}");var N,P,x=Object(v.observer)(H);t.default=x,(N="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(N.register(L,"leveList","/Users/limingliang/work/work-project/web/tiklab-hadess-ui/src/setting/scan/components/ScanHole.js"),N.register(H,"ScanHole","/Users/limingliang/work/work-project/web/tiklab-hadess-ui/src/setting/scan/components/ScanHole.js"),N.register(x,"default","/Users/limingliang/work/work-project/web/tiklab-hadess-ui/src/setting/scan/components/ScanHole.js")),(P="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&P(e)}.call(this,a(36)(e))}}]);